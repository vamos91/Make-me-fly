"scrollingElement"in document||function(){function a(a){return window.getComputedStyle?getComputedStyle(a,null):a.currentStyle}function b(a){return window.HTMLBodyElement?a instanceof HTMLBodyElement:/body/i.test(a.tagName)}function c(a){for(var c=a;c=c.nextSibling;)if(1==c.nodeType&&b(c))return c;return null}function f(a){return"none"!=a.display&&!("collapse"==a.visibility&&/^table-(.+-group|row|column)$/.test(a.display))}function g(b){var c=a(b),d=a(document.documentElement);return"visible"!=c.overflow&&"visible"!=d.overflow&&f(c)&&f(d)}var d,e=function(){var a=/^CSS1/.test(document.compatMode);if(!a)return!1;if(void 0===d){var b=document.createElement("iframe");b.style.height="1px",(document.body||document.documentElement||document).appendChild(b);var c=b.contentWindow.document;c.write('<!DOCTYPE html><div style="height:9999em">x</div>'),c.close(),d=c.documentElement.scrollHeight>c.body.scrollHeight,b.parentNode.removeChild(b)}return d},h=function(){if(e())return document.documentElement;var a=document.body,b=a&&!/body/i.test(a.tagName);return a=b?c(a):a,a&&g(a)?null:a};Object.defineProperty?Object.defineProperty(document,"scrollingElement",{get:h}):document.__defineGetter__?document.__defineGetter__("scrollingElement",h):(document.scrollingElement=h(),document.attachEvent&&document.attachEvent("onpropertychange",function(){"activeElement"==window.event.propertyName&&(document.scrollingElement=h())}))}();
