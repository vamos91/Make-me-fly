(function() {
    !function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,d){"object"==typeof c&&"object"==typeof b?b.exports=d():"function"==typeof define&&define.amd?define([],d):"object"==typeof c?c["mobify-analytics-sdk"]=d():a["mobify-analytics-sdk"]=d()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="https://localhost:8443/public/bundle/",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}Object.defineProperty(b,"__esModule",{value:!0}),b.u=b.t=b.debug=b.setDebug=b.init=b.version=void 0;var f=c(2);Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return f[a]}})});var g=c(5);Object.keys(g).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return g[a]}})}),c(3);var h=e(f),i=e(g),j=c(10),k=e(j),l=c(6),m=e(l),n=c(12),o=d(n),p=c(13),q=d(p),r=(b.version="0.0.22",b.init=function(a){return h.parseConfig(a.config),h.setupInstrument(a),a.integrations&&m.forEach(a.integrations,function(a){"sandy"===a&&i.addIntegration("sandy",new o["default"])}),b},b.setDebug=function(){return i.addIntegration("debugger",new q["default"]),b});b.debug=function(){return r(),h.highlight(),b},b.t=k,b.u=m},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.listInstrumented=b.setupInstrument=b.registerRouteChange=b.parseConfig=b.getConfig=b.highlight=b.clear=b.clearInstrumented=b.uninstrument=b.contentDimension=b.checkerDimension=b.elementTarget=b.checker=b.extractor=b.lifeCycle=b.components=b.events=b.routeTimer=b.numberOfTimerTrigger=b.instrumentTimer=void 0,c(3);var h=c(4),i=e(h),j=c(5),k=d(j),l=c(6),m=d(l),n=c(7),o=d(n),p=c(9),q=d(p),r=c(8),s=d(r),t=window.Mobify.Debug("analytic-sdk"),u=b.instrumentTimer=null,v=b.numberOfTimerTrigger=0,w=20,x=b.routeTimer=null,y=[],z=!1,A=(b.events={addToCart:"addToCart",removeFromCart:"removeFromCart",search:"search",formInteraction:"formInteraction"},b.components={PWA:"PWA",Adaptive:"Adaptive",Astro:"Astro"},b.lifeCycle=s.lifeCycle),B=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return JSON.stringify([a].concat(c))},C=s.c,D=b.extractor={};m.inEach(C.extractor,function(a){D[a]=function(){for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];return B.apply(void 0,[a].concat(c))}});var E=b.checker={};m.inEach(C.checker,function(a){E[a]=function(){for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];return B.apply(void 0,[a].concat(c))}});var F=b.elementTarget={};m.inEach(C.elementTarget,function(a){F[a]=function(){for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];return B.apply(void 0,[a].concat(c))}});var G=b.checkerDimension={funnel_step:"funnel_step"},H=b.contentDimension={product_category:"product_category",product_id:"product_id",product_name:"product_name",product_stock:"product_stock",product_price:"product_price"},I=function(){var a=document.createElement("style");document.head.appendChild(a);var b=a.sheet;b.insertRule(".mobify-highlight {-webkit-box-shadow: 0px 0px 10px 10px rgba(255,0,0,1) !important; -moz-box-shadow: 0px 0px 10px 10px rgba(255,0,0,1) !important; box-shadow: 0px 0px 10px 10px rgba(255,0,0,1) !important; }",0)},J=b.uninstrument=function(){return t.log("Removing listeners"),m.forEach(y,function(a){z&&a.applyToElements(function(a){return a.classList.remove("mobify-highlight")}),a.uninstrument()}),k.clearDimensions(),!0},K=b.clearInstrumented=function(){J(),y=[],b.numberOfTimerTrigger=v=0,u&&(clearInterval(u),b.instrumentTimer=u=null)},L=(b.clear=function(){K(),b.numberOfTimerTrigger=v=0,x&&(clearInterval(x),b.routeTimer=x=null)},b.highlight=function(){return t.log("Highlight "+y.length+" elements"),z||(I(),z=!0),m.forEach(y,function(a){a.applyToElements(function(a){return a.classList.add("mobify-highlight")})}),!0}),M=null,N=(b.getConfig=function(){return M},b.parseConfig=function(a){return y&&K(),a?(M=a,a.events&&(t.log("Initializing config with "+m.size(a.events)+" rules"),m.inEach(a.events,function(a,b){var c=q.parseEventConfig(a,b);if(c){var d;(d=y).push.apply(d,g(c))}})),a.dimensions&&m.inEach(a.dimensions,function(a,b){var c=[];if(b in G?c=o.parseCheckerDimensionConfig(a,b,k.setDimension):b in H?c=o.parseDimensionConfig(a,b,k.setDimension):t.log("Incorrect dimension in "+b),c){var d;(d=y).push.apply(d,g(c))}}),y):(t.log("WARNING: no config rule set"),null)}),O=b.registerRouteChange=function(a,b){if(J(),N(M),P({instrumentDCL:!1,mobilePageview:!b}),!b){var c={action:"pageview",location:document.location.href};a&&m.extend(c,a),k.send(c)}},P=b.setupInstrument=function(a){var c,d=a.instrumentDCL,e=a.pollFrequency,g=a.SPA,h=a.firstPageview,j=a.mobilePageview,l=(c={},f(c,A.ASAP,[]),f(c,A.DCL,[]),f(c,"polling",[]),c);m.forEach(y,function(a){a.lifeCycle in l?l[a.lifeCycle].push(a):l.polling.push(a)}),m.forEach(l[A.ASAP],function(a){a.instrument()}),l[A.DCL].length&&(d?i["default"](function(){m.forEach(l[A.DCL],function(a){return a.instrument()})}):m.forEach(l[A.DCL],function(a){return a.instrument()})),u&&clearInterval(u);var n=l.polling;if(n.length&&(b.instrumentTimer=u=setInterval(function(){var a=[];b.numberOfTimerTrigger=v+=1,m.forEach(n,function(b){var c=b.instrument();b.lifeCycle===A.monitor?a.push(b):c&&b.hasValue()||!(w>v)||a.push(b)}),n=a,a.length||(clearInterval(u),b.instrumentTimer=u=null)},e||500)),(g||s.isProgressive())&&!x){var o=document.location.href;b.routeTimer=x=setInterval(function(){document.location.href!==o&&(t.log("[Analytics SDK] Route change: "+o+" -> "+document.location.href),o=document.location.href,O(null,!j))},e||500)}h&&k.send({action:"pageview",location:document.location.href}),z&&L()};b.listInstrumented=function(){return y}},function(a,b){!function(a,b){"use strict";function c(a){this.namespace=a}if(!a.Mobify||!a.Mobify.Debug){var d=!1;/MOBIFY_DEBUG=1/.test(a.location)&&(d=!0);var e=a.Mobify=a.Mobify||{};e.Debug=function(a){return new c(a)};c.prototype.log=function(a){if(d)if("function"==typeof a)a();else{var b=[].slice.call(arguments);b.unshift(this.namespace+": "),console.log.apply(console,b)}},c.prototype.isEnabled=function(){return d},d&&console.log("Mobify Debug Mode is enabled!")}}(window,document)},function(a,b,c){var d,e;!function(f,g){"undefined"!=typeof b&&this.exports!==b?a.exports=g(!0):(d=g,e="function"==typeof d?d.call(b,c,b,a):d,!(void 0!==e&&(a.exports=e)))}("domready",function(){if(!document.addEventListener){var a=function(){};return a.nodom=!0,a}var b,c=[],d=document,e=d.documentElement.doScroll,f="DOMContentLoaded",g=(e?/^loaded|^c/:/^loaded|^i|^c/).test(d.readyState);return g||d.addEventListener(f,b=function(){for(d.removeEventListener(f,b),g=1;b=c.shift();)b()}),function(a){g?setTimeout(a,0):c.push(a)}})},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.clearDimensions=b.getDimensions=b.setDimension=b.send=b.callIntegration=b.addIntegration=b.Evt=void 0;var f=c(6),g=d(f),h={},i={};b.Evt=function j(a){e(this,j),this.evt=a},b.addIntegration=function(a,b){h[a]=b},b.callIntegration=function(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;c>e;e++)d[e-2]=arguments[e];return h[a][b](d)},b.send=function(a){for(var b in h)h.hasOwnProperty(b)&&h[b].sendEvent(a,i)},b.setDimension=function(a,b){i[a]=b;for(var c in h)h.hasOwnProperty(c)&&h[c].setDimension(a,b)},b.getDimensions=function(){return i},b.clearDimensions=function(){g.inEach(i,function(a,b){delete i[b]})}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=(b.getElementsFromSelector=function(a){try{return document.querySelectorAll(a)}catch(b){return null}},b.isNullUndef=function(a){return"undefined"==typeof a||null===a},b.elementMatches=function(a,b){if(a.matches)return a.matches(b);for(var c=["matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],d=0;d<c.length;d++)if(c[d]in a)return a[c[d]](b);for(var e=document.querySelectorAll(b),f=0;f<e.length;f++)if(e.item(f)===a)return!0;return!1},b.forEach=function(a,b){for(var c=0;c<a.length;c++)b(a[c],c,a)}),d=b.inEach=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c,a)};b.filter=function(a,b){return Array.prototype.filter.call(a,b)},b.extend=function(a){for(var b=arguments.length,e=Array(b>1?b-1:0),f=1;b>f;f++)e[f-1]=arguments[f];c(e,function(b){d(b,function(b,c){a[c]=b})})},b.size=function e(a){var e=0;for(var b in a)a.hasOwnProperty(b)&&e++;return e},b.addListener=function(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&(c=function(){return c.call(a,window.event)},a.attachEvent("on"+b,c)),c},b.removeListener=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}Object.defineProperty(b,"__esModule",{value:!0}),b.parseDimensionConfig=b.parseCheckerDimensionConfig=void 0,c(3);var e=c(6),f=d(e),g=c(8),h=d(g),i=window.Mobify.Debug("analytic-sdk");b.parseCheckerDimensionConfig=function(a,b,c){var d=[];return f.inEach(a,function(a,e){var g=new h.SelectorsParser(a,function(a){return a}),j=function(a){var g=null;try{if(g=JSON.parse(a.selector),!g)throw"No selector given"}catch(j){return i.log("Invalid config extractor: "+a.selector),null}var k=g[0],l=g.slice(1);if(k in h.c.checker){var m=function(a,b,d){var e=d.command,f=d.args,g=d.dimName,i=d.dimValue;return(e===h.c.checker.hasElement||e===h.c.checker.itemCountBetween&&f[0]<=b.length<=f[1]||e===h.c.checker.itemCountEqual&&f[0]===b.length||e===h.c.checker.itemCountGreaterThan&&f[0]<b.length||e===h.c.checker.itemCountLessThan&&f[0]>b.length)&&c(g,i),i},n=new h.Capture(new h.Selector(l[0],a.lifeCycle,a),{command:k,args:l.slice(1),dimName:b,dimValue:e},m);d.push(n)}else if(k in h.c.extractor){var o=h.getCaptureForExtractor(a,function(a){return f.isNullUndef(a)||c(b,e),e});o&&d.push(o)}else i.log("Unkown checker type: "+k);return null};return g.forEachSelector(j),null}),d},b.parseDimensionConfig=function(a,b,c,d){var e=[],g=new h.SelectorsParser(a,function(a){return a});return g.forEachSelector(function(a){var g=h.getCaptureForExtractor(a,function(a){return f.isNullUndef(a)||c(b,a),a},d);g&&e.push(g)}),e}},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.getCaptureForExtractor=b.extractValueFromElement=b.SelectorsParser=b.Selector=b.Capture=b.isProgressive=b.lifeCycle=b.c=void 0;var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();c(3);var g=c(6),h=d(g),i=window.Mobify.Debug("analytic-sdk"),j=b.c={extractor:{textValueInArray:"textValueInArray",intValue:"intValue",intAddValue:"intAddValue",textValue:"textValue",textValueMap:"textValueMap",urlRegex:"urlRegex",titleRegex:"titleRegex"},checker:{hasElement:"hasElement",itemCountBetween:"itemCountBetween",itemCountEqual:"itemCountEqual",itemCountGreaterThan:"itemCountGreaterThan",itemCountLessThan:"itemCountLessThan"},elementTarget:{getAttr:"getAttr"}},k=b.lifeCycle={ASAP:"ASAP",DCL:"DCL",untilSeen:"untilSeen",monitor:"monitor"},l=b.isProgressive=function(){return window.Progressive},m=b.Capture=function(){function a(b,c,d,f){if(e(this,a),this.selector=b.selector,this.lifeCycle=b.lifeCycle,this.param=c,this.callback=d,!d)throw"No callback provided";this.elemValue=null,this.doDefault=f,this.eventHooks=[]}return a.prototype.instrument=function(){var a=h.getElementsFromSelector(this.selector);if(!a||!a.length)return this.doDefault?(this.callback(this,null,this.param),!0):!1;var b=this.allElements(),c=h.filter(a,function(a){return-1===b.indexOf(a)});return this.elemValue=this.callback(this,c,this.param),!0},a.prototype.hasValue=function(){return!h.isNullUndef(this.elemValue)},a.prototype.allElements=function(){return this.eventHooks.map(function(a){return a.elem})},a.prototype.applyToElements=function(a){h.forEach(this.eventHooks,function(b){return a(b.elem)})},a.prototype.uninstrument=function(){h.forEach(this.eventHooks,function(a){return h.removeListener(a.elem,a.action,a.listener)}),this.eventHooks=[]},a.prototype.setListener=function(a,b,c){var d=h.addListener(a,b,c);this.eventHooks.push({elem:a,action:b,listener:d})},a}(),n=b.Selector=function q(a,b,c){e(this,q),this.selector=a,this.lifeCycle=b||k.DCL,c&&(this.action=c.action,this.dimensions=c.dimensions)},o=(b.SelectorsParser=function(){function a(b,c){e(this,a),this.selectors=[],this.config=b,this.selectedConfig=null,this.parseConfig(b,c)}return a.prototype.parseConfig=function(a,b){var c=this;if(!a||!a["default"])return i.log("Error in parsing selectors "+a),null;var d=this.selectedConfig=this.getSelectorByComponent(a);if(d.disable)return null;var e=b(d);if(!e)return i.log("No selector found "+e),null;var f=function(a){var b=document.location.pathname;if("string"==typeof a)c.selectors.push(new n(a,d.lifeCycle,d));else{var e=a.url;if(e&&!b.match(e))return null;"string"==typeof a.s?c.selectors.push(new n(a.s,a.l||d.lifeCycle,d)):h.forEach(a.s,function(b){c.selectors.push(new n(b,a.l||d.lifeCycle,d))})}return null};return"string"==typeof e?(this.selectors=[new n(e,d.lifeCycle,d)],null):(Array.isArray(e)?h.forEach(e,f):f(e),this.selectors)},a.prototype.getSelectorByComponent=function(a){if(!a.components)return a["default"];var b=null,c=null;if(l()&&a.components.PWA)c=a.components.PWA;else{if(!window.Adaptive||!a.components.Adaptive)return a["default"];c=a.components.Adaptive}return"string"==typeof a["default"]?b=c||a["default"]:(c.disable||(c.disable=!1),b={},h.extend(b,a["default"],c)),b},a.prototype.forEachSelector=function(a){return this.selectors?void h.forEach(this.selectors,function(b){return a(b)}):void i.log("No selector found!")},a.prototype.getDimensions=function(){return this.selectedConfig.dimensions},a}(),function(a,b,c){if(!a)return null;var d=a.match(b);return d?d[1]||c:null}),p=b.extractValueFromElement=function(a,b,c){if(a===j.extractor.textValue||a===j.extractor.intValue||a===j.extractor.intAddValue||a===j.extractor.textValueMap){var d="";if(!b)return a===j.extractor.intAddValue?c[0]+c[1]:a===j.extractor.textValue||a===j.extractor.textValueMap?c[1]:c[0];if(d="INPUT"===b[0].tagName?b[0].value.trim():b[0].textContent.trim(),a===j.extractor.intValue||a===j.extractor.intAddValue)d=parseInt(d),isNaN(d)&&(d=c[0]),a===j.extractor.intAddValue&&(d+=c[1]);else if(a===j.extractor.textValue){var e=c[0],f=c[1];e&&(d=o(d,e,f))}else if(a===j.extractor.textValueMap){var g=c[0],k=c[1];if(g){var l=d;d=k,h.inEach(g,function(a,b){o(l,b,!0)&&(d=a)})}else i.log("Missing valueMap for textValueMap extractor"),d=null}return d}if(a===j.extractor.textValueInArray){if(!b)return c[1];var m=c[0]>=0?b[c[0]]:b[b.length+c[0]];if(m)return m.textContent.trim()}else i.log("Invalid config unknown extractor type: "+a);return null};b.getCaptureForExtractor=function(a,b,c){var d=null,e=null,g=a.selector;try{if(d=JSON.parse(g),!d)throw"No selector given"}catch(l){return i.log("Invalid config extractor: "+g),null}var q=d[0],r=d.slice(1);if(q===j.extractor.urlRegex||q===j.extractor.titleRegex)e=new m(new n("head",k.ASAP),{regex:r[0],command:q},function(a,c,d){var e=d.regex,f=d.command,g=f===j.extractor.urlRegex?document.location.pathname:document.title,h=o(g,e,!0);return h&&b(h),h},!0);else if(q===j.elementTarget.getAttr){if(!c)throw"getAttr must only be used in dimension";var s=f(r,2),t=s[0],u=s[1];if(u){var v=!1;if(h.forEach(u,function(a){h.elementMatches(c,a)&&(v=!0)}),!v)return null}e=new m(new n("head",k.ASAP),{value:c[t]},function(a,c,d){var e=d.value;return e&&b(e),e},!0)}else{var w=function(a,c,d){var e=d.command,f=d.args,g=p(e,c,f);return b(g),g};e=new m(new n(r[0],a.lifeCycle),{command:q,args:r.slice(1)},w,!0)}return e}},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}Object.defineProperty(b,"__esModule",{value:!0}),b.parseEventConfig=void 0,c(3);var e=c(6),f=d(e),g=c(5),h=d(g),i=c(7),j=d(i),k=c(8),l=d(k),m=window.Mobify.Debug("analytic-sdk");b.parseEventConfig=function(a,b){var c=new l.SelectorsParser(a,function(a){return a.selectors}),d=function(){return function(d){var e={action:b};try{if(a["default"].dimensions){var g=c.getDimensions();f.inEach(g,function(a,b){var c=j.parseDimensionConfig({"default":a},b,function(a,b){e[a]=b},d.target);return c&&!f.isNullUndef(c[0])&&c[0].instrument(),!0})}h.send(e)}catch(i){console&&console.error("Error in handling event "+e+": "+i)}}},e=[];return c.forEachSelector(function(a){var c=new l.Capture(a,{eventType:b,eventAction:a.action},function(a,b,c){return m.log("Instrumenting element "+c.eventType+"."+c.eventAction+" with "+b.length+" elements"),f.forEach(b,function(b){a.setListener(b,c.eventAction,d())}),!0});e.push(c)}),e}},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.test=b.assertEventSentOnce=b.assertDimensionNotNull=b.assertDimension=b.assertEventSent=b.inputSelect=b.fireEvent=b.click=b.setTest=b.isTest=void 0;var f=c(11),g=e(f),h=c(6),i=d(h),j=c(5),k=d(j),l=window.Mobify.Debug("analytic-sdk"),m=[],n={},o=function(a){window.console&&console.log(a)},p=function(a){l.log("[TEST] Recieved event: "+a.actionName),m.push(a)},q=b.isTest=!1,r=(b.setTest=function(){b.isTest=q=!0},b.click=function(a){var b=i.getElementsFromSelector(a);return l.log("[TEST] Clicking on element "+a),i.forEach(b,function(a){a.click()}),b},b.fireEvent=function(a,b){if("createEvent"in document){var c=document.createEvent("HTMLEvents");c.initEvent(b,!1,!0),a.dispatchEvent(c)}else a.fireEvent("on"+b)}),s=(b.inputSelect=function(a,b){var c=i.getElementsFromSelector(a);return l.log("[TEST] Selecting on element "+a),i.forEach(c,function(a){r(a,"focus"),b&&(a.value=b),r(a,"blur")}),c},b.assertEventSent=function(a,b,c,d){return d=d||1e3,new g["default"](function(b){setTimeout(function(){var d=m.length;l.log("[TEST] Seen "+d+" "+a+" events"),d!==c?(o("âŒ Seen "+d+" "+a+" events when expecting "+c),n.failed+=1):(o("âœ… Seen "+d+" "+a+" events sent"),n.passed+=1),b()},d)})});b.assertDimension=function(a,b){var c=k.getDimensions(),d=c[a];return new g["default"](function(c){d===b?(o("âœ… Dimension "+a+" is correct - "+d),n.passed+=1):(o("âŒ Seen "+a+" as "+d+" when expecting "+b),n.failed+=1),c()})},b.assertDimensionNotNull=function(a){var b=k.getDimensions(),c=b[a];return new g["default"](function(b){"string"==typeof c||"number"==typeof c?(o("âœ… Dimension "+a+" is defined - "+c),n.passed+=1):(o("âŒ Dimension "+a+" is not defined"),n.failed+=1),b()})},b.assertEventSentOnce=function(a,b,c){return s(a,b,1,c)},b.test=function(a,b,c,d){m.length=0,n={testRan:0,passed:0,failed:0},k.callIntegration("debugger","setCallback",p);var e=new g["default"](function(a){return a()});i.forEach(a,function(a){var b=a.url,f=a.testName,h=a.test;return d&&d!==f||c&&c!==b?void o("[TEST] Skipping test "+f+" @ "+b+"..."):(o("[TEST] Running test for "+f+"..."),n.testRan+=1,void(e=e.then(function(){return new g["default"](function(a){h(a)})})))}),e.then(function(){b&&b(n)})}},function(a,b){!function(b){function c(){}function d(a,b){return function(){a.apply(b,arguments)}}function e(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(a,this)}function f(a,b){for(;3===a._state;)a=a._value;return 0===a._state?void a._deferreds.push(b):(a._handled=!0,void e._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?g:h)(b.promise,a._value);var d;try{d=c(a._value)}catch(e){return void h(b.promise,e)}g(b.promise,d)}))}function g(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof e)return a._state=3,a._value=b,void i(a);if("function"==typeof c)return void k(d(c,b),a)}a._state=1,a._value=b,i(a)}catch(f){h(a,f)}}function h(a,b){a._state=2,a._value=b,i(a)}function i(a){2===a._state&&0===a._deferreds.length&&e._immediateFn(function(){a._handled||e._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;c>b;b++)f(a,a._deferreds[b]);a._deferreds=null}function j(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function k(a,b){var c=!1;try{a(function(a){c||(c=!0,g(b,a))},function(a){c||(c=!0,h(b,a))})}catch(d){if(c)return;c=!0,h(b,d)}}var l=setTimeout;e.prototype["catch"]=function(a){return this.then(null,a)},e.prototype.then=function(a,b){var d=new this.constructor(c);return f(this,new j(a,b,d)),d},e.all=function(a){var b=Array.prototype.slice.call(a);return new e(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},e.resolve=function(a){return a&&"object"==typeof a&&a.constructor===e?a:new e(function(b){b(a)})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},e._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){l(a,0)},e._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},e._setImmediateFn=function(a){e._immediateFn=a},e._setUnhandledRejectionFn=function(a){e._unhandledRejectionFn=a},"undefined"!=typeof a&&a.exports?a.exports=e:b.Promise||(b.Promise=e)}(this)},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=c(6),g=d(f),h=window.Mobify.Debug("analytic-sdk"),i=function(){function a(){e(this,a)}return a.prototype.sendEvent=function(a){var b=this;if(!window.sandy)return h.log("WARN: no sandy initialized"),!1;var c=window.sandy,d=null,e={};return g.inEach(a,function(a,b){"action"===b?d=a:e[b]=a}),d?(g.inEach(e,function(a,c){return b.setDimension(c,a)}),c("send","event","timing",d),!0):(h.log("WARN: no action specified for "+JSON.stringify(a)),!1)},a.prototype.setDimension=function(a,b){window.sandy&&window.sandy("set",a,b)},a}();b["default"]=i},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){if(window.console){var a;(a=window.console).log.apply(a,arguments)}},e=function(){function a(b){c(this,a),this.callback=(b||{}).callback,this.dimensions={}}return a.prototype.sendEvent=function(a,b){return d("[EVENTS] ðŸ’¡ Sending event: "+a.action+" ("+JSON.stringify(a)+")ðŸ’¡"),this.callback&&this.callback(a,b),!0},a.prototype.setDimension=function(a,b){return d("[DIMENSION] ðŸ’¡ Setting dimension: "+JSON.stringify(a)+" ðŸ’¡"),this.dimensions[a]=b,!0},a.prototype.setCallback=function(a){var b=a[0];d("Setting callback: "+b),this.callback=b},a}();b["default"]=e}])})},{}],2:[function(a,b,c){!function(a,d){if("object"==typeof c&&"object"==typeof b)b.exports=d();else if("function"==typeof define&&define.amd)define([],d);else{var e=d();for(var f in e)("object"==typeof c?c:a)[f]=e[f]}}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=1)}([function(a,b,c){var d,e;d=[c(2)],e=function(a){var b=a,c=b.lib,d=c.WordArray,e=c.Hasher,f=b.algo,g=[],h=f.SHA1=e.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],f=c[2],h=c[3],i=c[4],j=0;80>j;j++){if(16>j)g[j]=0|a[b+j];else{var k=g[j-3]^g[j-8]^g[j-14]^g[j-16];g[j]=k<<1|k>>>31}var l=(d<<5|d>>>27)+i+g[j];l+=20>j?(e&f|~e&h)+1518500249:40>j?(e^f^h)+1859775393:60>j?(e&f|e&h|f&h)-1894007588:(e^f^h)-899497514,i=h,h=f,f=e<<30|e>>>2,e=d,d=l}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+f|0,c[3]=c[3]+h|0,c[4]=c[4]+i|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;return b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=Math.floor(c/4294967296),b[(d+64>>>9<<4)+15]=c,a.sigBytes=4*b.length,this._process(),this._hash}});return b.SHA1=e._createHelper(h),b.HmacSHA1=e._createHmacHelper(h),a.SHA1}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){!function(b,d){a.exports=d(c(0))}(this,function(a){var b={};b._global=this,b.version="0.1.21";var c=function(c){c=c||"mobify_id";var d=new RegExp("[?&]"+c+"=([\\w\\-]+)(&|#|$)"),e=b._global.location&&b._global.location.href;if(e){var f=d.exec(e);if(f&&f[1]&&window.decodeURIComponent){if(/^[a-fA-F0-9]{16}$/.test(f[1]))return f[1];var g=a(f[1]).toString().substring(0,16);return window.decodeURIComponent(g)}}return null},d=function(a){if(a=a||{},this.dimensions={},this.slug=a.slug||"no-slug",this.dimensions.tracker_id=b.Utils.generateRandomID(),!b.Utils.runningInServiceWorker()&&"cookie"in b._global.document){this.dimensions.pageview_id=b._pageViewID,this.dimensions.session_id=b.getSessionID(),this.dimensions.client_id=b.getClientID(),"auto"===a.cookieDomain?this.cookieDomain=b._global.location.hostname:this.cookieDomain=a.cookieDomain||b._global.location.hostname;var d=c();d&&d!==this.dimensions.client_id&&this.sendEvent({dimensions:{associate_id:d},data:{action:"associate",category:"timing"}})}};d.prototype.sendEvent=function(a,c){return a=b.Utils.extend({},{timestamp_local:a.timestamp_local||+new Date,channel:a.channel||"web",slug:this.slug,dimensions:this.getDimensions(a.dimensions),data:a.data}),b._track(b.endpoint,a,c),a},d.prototype.send=function(a){var c=Array.prototype.slice.call(arguments,1);return b.Utils.includes(["pageview","event","timing"],a)?this[a].apply(this,c):void b.Utils.logError(new Error("Unrecognized hitType: "+a))},d.prototype.pageview=function(a){var c={},d=b.Utils.getCallback(arguments);try{c="object"==typeof a?{page:a.page||b._global.location.pathname,title:a.title||b._global.document.title,location:a.location||b._global.location.href}:"string"==typeof a||a instanceof String?{page:a}:{page:b._global.location.pathname},this.set(c),this.sendEvent({data:{action:"pageview"}},d)}catch(e){b.Utils.logError(e)}};var e=b.EVENT_KEYS={CHANNEL:"eventChannel",CATEGORY:"eventCategory",ACTION:"eventAction",LABEL:"eventLabel",VALUE:"eventValue"};d.prototype.event=function(a,c,d,f,g){var h=b.Utils.getCallback(arguments),i=null;"object"==typeof a&&(c=a[e.ACTION],d=a[e.LABEL],f=a[e.VALUE],i=a[e.CHANNEL],g=b.Utils.omit(a,[e.CATEGORY,e.ACTION,e.LABEL,e.VALUE]),a=a[e.CATEGORY]),this.sendEvent({channel:i,data:{category:a,action:c,label:d,value:f},dimensions:g||{}},h)};var f=b.TIMING_KEYS={CATEGORY:"timingCategory",ACTION:"timingVar",LABEL:"timingLabel",VALUE:"timingValue"};return d.prototype.timing=function(a,c,d,e,g){var h=b.Utils.getCallback(arguments);"object"==typeof a&&(c=a[f.ACTION],d=a[f.LABEL],e=a[f.VALUE],g=b.Utils.omit(a,[f.CATEGORY,f.ACTION,f.LABEL,f.VALUE]),a=a[f.CATEGORY]),this.sendEvent({data:{category:a,action:c,label:d,value:e},dimensions:g||{}},h)},d.prototype.set=function(a,b){if("object"!=typeof a||void 0!==b)this.dimensions[a]=b;else for(var c in a)a.hasOwnProperty(c)&&this.set(c,a[c])},d.prototype.get=function(a){return this.dimensions[a]},d.prototype.getDimensions=function(a){return void 0!==a?b.Utils.extend({},b._gatherDefaultDimensions(),this.dimensions,a):b.Utils.extend({},b._gatherDefaultDimensions(),this.dimensions)},b.Tracker=d,b._gatherDefaultDimensions=function(){return b.Utils.runningInServiceWorker()?{version:b.version}:{location:b._global.location.href,page:b._global.location.pathname,title:b._global.document.title,version:b.version}},b.Utils={},b.Utils.logError=function(a){window.console&&window.console.error&&console.error(a)},b.Utils.getCallback=function(a){var b=a[a.length-1];return"function"==typeof b?b:void 0},b.Utils.encodeQueryString=function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];"string"==typeof d||d instanceof String?b.push(c+"="+encodeURIComponent(d.toString())):"number"==typeof d?b.push(c+"="+d.toString()):"boolean"==typeof d?b.push(c+"="+(d?"true":"false")):"object"==typeof d&&d&&b.push(c+"="+encodeURIComponent(JSON.stringify(d)))}return"?"+b.join("&")},b.Utils.generateRandomID=function(){for(var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],b=[],c=0;16>c;c++){var d=Math.floor(16*Math.random());b.push(a[d])}return b.join("")},b.Utils.getCookie=function(a){var c=new RegExp("sandy-"+a+"=([^;]+)"),d=c.exec(b._global.document.cookie);return d?d[1]:""},b.Utils.setCookie=function(a,c,d,e){var f=new Date,g=+f;e>0?f.setTime(g+1e3*e):f.setTime(g+2592e6),b._global.document.cookie="sandy-"+a+"="+c+"; expires="+f.toGMTString()+"; path=/; "+(d&&"localhost"!==d?"domain="+d:"")},b.Utils.extend=function(a){for(var b,c=0,d=arguments.length;d>c;c++){b=arguments[c];
for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e])}return a},b.Utils.includes=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1},b.Utils.runningInServiceWorker=function(){return"undefined"==typeof b._global.document},b.Utils.omit=function(a,c){var d={};for(var e in a)a.hasOwnProperty(e)&&!b.Utils.includes(c,e)&&(d[e]=a[e]);return d},b.getSessionID=function(a){var c=b.Utils.getCookie("session-id");return c=c||b.Utils.generateRandomID(),b.Utils.setCookie("session-id",c,a,1800),c},b.CLIENT_COOKIE_LIFETIME_SECONDS=62899200,b.getClientID=function(a){var d=b.Utils.getCookie("client-id")||c()||b.Utils.generateRandomID();return b.setClientID(d,a),d},b.setClientID=function(a,c){b.Utils.setCookie("client-id",a,c,b.CLIENT_COOKIE_LIFETIME_SECONDS)},b.dispatchCommand=function(){var a=arguments[0],c=Array.prototype.slice.call(arguments,1);b.trackers=b.trackers||{};var d=b.trackers[b.DEFAULT_TRACKER_NAME];if("function"==typeof a)try{return a(d)}catch(e){return void b.Utils.logError(e)}if("string"==typeof a||a instanceof String){if("create"===a)return b.create.apply(this,c);if(b.Utils.includes(["send","set"],a))return d[a].apply(d,c);if("object"==typeof c[0])return d.send.apply(d,c)}b.Utils.logError(new Error("Unable to dispatch command: "+a))},b.create=function(a,c,e){if("object"==typeof a&&(c=a.cookieDomain||"auto",e=a.name,a=a.trackingId),!("string"==typeof a||a instanceof String))return void b.Utils.logError(new Error("slug was not a string"));e=e||b.DEFAULT_TRACKER_NAME,b.trackers=b.trackers||{};var f=b.trackers[e];return f||(b.trackers[e]=f=new d({slug:a,cookieDomain:c})),f},b.drainQueue=function(a){for(var c;c=a.shift();)b.dispatchCommand.apply(void 0,c)},b.isInitialised=function(a){return a.SandyAnalyticsObject&&a[a.SandyAnalyticsObject]&&a[a.SandyAnalyticsObject].initialised},b.init=function(a,c){var d="sandy";if(c&&c.name&&(d=c.name),a.SandyAnalyticsObject!==d||!b.isInitialised(a)){a.SandyAnalyticsObject=a.SandyAnalyticsObject||d,a[d]=a[d]||function(){return a[d].q.push(arguments)};var e=a[d].q=a[d].q||[];a[d].initialised=!0,b.drainQueue(e),a[d].q.push=function(){b.dispatchCommand.apply(void 0,arguments[0])}}},b._pageViewID=b.Utils.generateRandomID(),b.endpoint="https://engagement-collector.mobify.net/s.gif",b.DEFAULT_TRACKER_NAME="t0",b.iframe=null,b._trackFetch=function(a,b){self.fetch(a,{mode:"no-cors"}).then(function(a){"function"==typeof b&&b(null)})["catch"](function(){"function"==typeof b&&b(new Error("Error loading "+a))})},b._trackImage=function(a,b){var c=new Image;return c.src=a,"function"==typeof b&&(c.onload=function(){b(null)},c.onerror=function(){b(new Error("Error loading "+c.src))}),c},b._trackAjax=function(a,c){if(null===b.iframe){var d=document.getElementsByTagName("script")[0];if(!d)return c(new Error("Error creating iframe ajax call")),void(b.iframe=void 0);b.iframe=document.createElement("iframe"),b.iframe.style.display="none",b.iframe.setAttribute("title","Analytics"),d.parentNode.insertBefore(b.iframe,d)}if(!b.iframe)return void c(new Error("No iframe provided - cannot send"));var e=new b.iframe.contentWindow.XMLHttpRequest;e.open("GET",a),e.send(null)},b._track=function(a,c,d){var e=b.Utils.encodeQueryString(c),f=a+e;b.Utils.runningInServiceWorker()?b._trackFetch(f,d):b._global.XMLHttpRequest&&"withCredentials"in new b._global.XMLHttpRequest?b._trackAjax(f,d):b._trackImage(f,d)},window&&window.sandy&&(window.sandy.instance=b),b})},function(a,b,c){var d,e;d=[],e=function(){var a=a||function(a,b){var c=Object.create||function(){function a(){}return function(b){var c;return a.prototype=b,c=new a,a.prototype=null,c}}(),d={},e=d.lib={},f=e.Base=function(){return{extend:function(a){var b=c(this);return a&&b.mixIn(a),b.hasOwnProperty("init")&&this.init!==b.init||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)}}}(),g=e.WordArray=f.extend({init:function(a,c){a=this.words=a||[],c!=b?this.sigBytes=c:this.sigBytes=4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes,e=a.sigBytes;if(this.clamp(),d%4)for(var f=0;e>f;f++){var g=c[f>>>2]>>>24-f%4*8&255;b[d+f>>>2]|=g<<24-(d+f)%4*8}else for(var f=0;e>f;f+=4)b[d+f>>>2]=c[f>>>2];return this.sigBytes+=e,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-c%4*8,b.length=a.ceil(c/4)}}),h=d.enc={},i=h.Hex={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;c>e;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push((f>>>4).toString(16)),d.push((15&f).toString(16))}return d.join("")}},j=h.Latin1={parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-d%4*8;return new g.init(c,b)}},k=h.Utf8={parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=e.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=4*f,i=e/h;i=b?a.ceil(i):a.max((0|i)-this._minBufferSize,0);var j=i*f,k=a.min(4*j,e);if(j){for(var l=0;j>l;l+=f)this._doProcessBlock(d,l);var m=d.splice(0,j);c.sigBytes-=k}return new g.init(m,k)},_minBufferSize:0}),m=(e.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},finalize:function(a){a&&this._append(a);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}}),d.algo={});return d}(Math);return a}.apply(b,d),!(void 0!==e&&(a.exports=e))}])})},{}],3:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define([],d):"object"==typeof c?b.exports=d():a.SplitTest=d()}(this,function(){var a=function(b,c){c=c||{},this.cookieName="split",c.namespace&&(this.cookieName=c.namespace+"-"+this.cookieName),this.cookieDomain=c.cookieDomain||window.location.hostname;var d=this.getValue();d||(d=a.randomChoice(b),this.setValue(d))};return a.init=function(b,c){return new a(b,c)},a.prototype.setChoice=a.prototype.setValue=function(b){a.setCookie(this.cookieName,b,this.cookieDomain)},a.prototype.getChoice=a.prototype.getValue=function(){var b=a.getCookie(this.cookieName);return b&&this.setValue(b),b},a.randomChoice=function(a){var b=[],c=[],d=0;for(var e in a)a.hasOwnProperty(e)&&(d+=a[e],b.push(e),c.push(d));for(var f=Math.random()*d,g=0,h=b.length;h>g;g++){var i=c[g];if(i>f)return b[g]}},a.getCookie=function(a){var b=new RegExp(a+"=([^;]+)"),c=b.exec(document.cookie);return c?c[1]:""},a.setCookie=function(a,b,c,d){var e=new Date,f=+e;d>0?e.setTime(f+1e3*d):e.setTime(f+2592e6),document.cookie=a+"="+b+"; expires="+e.toGMTString()+"; path=/; "+(c&&"localhost"!==c?"domain="+c:"")},a})},{}],4:[function(a,b,c){!function(){var b=a("./vendor/domready"),c=a("./vendor/ga-sandy-adapter"),d=a("./vendor/ga-shim"),e=a("./vendor/transaction"),f=a("sandy-tracking-pixel-client");f.init(this);var g=a("./performance-measurement"),h=a("./content-parser"),i=(a("./smart-content-loader"),a("mobify-analytics-sdk")),j=a("./vendor/features"),k=window.Mobify=window.Mobify||{},l=window.Mobify.Ajs={};l.addSplitCondition=function(a,b,c){var d,e=(c||"__")+b+"_cond",f=document.cookie.match(new RegExp(e+"=(\\d)"));if(f)d=+f[1];else{var g=new Date;g.setDate(g.getDate()+1),d=Math.floor(2*Math.random()),document.cookie=e+"="+d+"; path=/; expires="+g.toUTCString()}if(d=!!d,a.Mobify){var h=a.Mobify.analytics=a.Mobify.analytics||{};h.ga=h.ga||[];for(var i=3;5>=i;i++){var j="c"+i;if(!h[j]){h[j]=b+"|"+(d?"yes":"no");break}}}return d},l.findSelf=function(){for(var a,b=/^(.*)\/a(\.min)?\.js(?:#([^#]*))?$/,c=document.getElementsByTagName("script"),d=0;d<c.length&&!(a=c[d].src.match(b));++d);return a?{path:a[1],hash:a[3]||""}:void 0},l.getParams=function(){var a={},b=l.findSelf();if(!b)return a;for(var c=(b.hash,/([^&=]*?)=(.*?)(?:$|&)/g),d=null;d=c.exec(b.hash);)a[d[1]]=d[2];return a},l.createScript=function(a){var b=document.createElement("script");return b.type="text/javascript",a=a||{},void 0!==a.id&&(b.id=a.id),void 0!==a.src&&(b.src=a.src),void 0!==a.innerText&&(b.innerText=a.innerText),void 0!==a.async&&(b.async=a.async),void 0!==a.defer&&(b.defer=a.defer),void 0!==a.onload&&b.setAttribute("onload",a.onload),b},l.addElement=function(a){var c=function(){var b=document.getElementsByTagName("body")[0];b?b.appendChild(a):setTimeout(c,100)};document.all&&!document.addEventListener?b(c):c()},l.addStudioFooterIframe=function(a,b){var c="display: block !important; height: 46px !important; width: 100% !important; border: none !important; padding: none !important;",d=document.createElement("iframe");d.id="studio-footer",d.src=a+b,d.setAttribute("style",c),l.addElement(d)},l.setupGoogleUniversalAnalytics=function(){if(void 0===window.ga){window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.Mobify&&window.Mobify.points&&window.Mobify.points[0]?window.ga.l=1*k.points[0]:window.ga.l=1*new Date;var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=1,a.src="//www.google-analytics.com/analytics.js",b.parentNode.insertBefore(a,b)}},l.rewriteUniversalAnalytics=function(a,b,e,f,g,h,i){var j=function(){c.send(arguments,arguments)};if(window.ga("create",b,"auto",{name:"mobifyTracker"}),window.ga("mobifyTracker.set","dimension1",e),f&&window.ga("mobifyTracker.set","dimension2",f),h||window.ga("mobifyTracker.send","pageview"),i||window.ga("mobifyTracker.require","ecommerce"),a.ua.q){for(var k;k=a.ua.q.shift();)window.ga.apply(null,k),j.apply(null,k);a.ua.q=null}a.ua=function(){window.ga.apply(null,arguments),j.apply(null,arguments)},d.bindShim(a.ga,a.ua,"mobifyTracker")},l.setupSandyAnalytics=function(a,b,c){window.sandy("create",a,"auto"),window.sandy("set","mobify_adapted",!!b),c&&window.sandy("set","templateName",c),k.analytics.sandy=f},l.setupAnalyticsSDK=function(a,b,c){window.Mobify.analyticSDK=i,b.config&&i.init({config:b.config,pollFrequency:b.pollFrequency||500,integrations:b.integrations||["sandy"],instrumentDCL:!0,SPA:b.progressive&&c,firstPageview:b.firstPageview,mobilePageview:b.mobilePageview})},l.setupAMP=function(a,b){if(b.config)for(var c=0;c<b.config.validUrls.length;++c)if(document.location.pathname.slice(1).match(b.config.validUrls[c])){var d=document.createElement("link");d.rel="amphtml",d.href=b.config.baseAMPUrl+(b.config.useHost?location.host:"")+location.pathname,document.head.appendChild(d);break}},l.recordQuantcast=function(){var a=window._qevents=window._qevents||[];!function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js",a.async=!0,a.type="text/javascript";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),a.push({qacct:"p-eb0xvejp1OUw6"})},l.init=function(a){var b=l.getParams(),c=a.isMobify||b.m||0,d=a.template||b.t,f=a.noPageview===!0||"true"===b.npv||1==b.npv,i=a.noEcommerce===!0||"true"===b.nec||1==b.nec,k=a.project||{},m=a.isDebug===!0||"true"===b.d,n=k.universal_analytics_id,o=window.Mobify=window.Mobify||{},p=o.analytics=o.analytics||{};if(p.ga=p.ga||[],p.ua=p.ua||function(){(p.ua.q=p.ua.q||[]).push(arguments)},e.init(p.ua,"mobifyTracker"),p.transaction=e,p.contentParser=h,k.features&&"performance_measurement"in k.features&&(f&&(k.features.performance_measurement.no_pageview=!0),k.features.content_parser&&(p.readyCallback=function(){var a=h.parse(document);h.setSandyDimension(a),p.pageContent=a},g.setReadyCallback(p.readyCallback))),k.features&&"sandy_adapter"in k.features){var q=k.features.sandy_adapter;"no_ecommerce"in q?i=q.no_ecommerce:i&&(q.no_ecommerce=i)}return l.setupSandyAnalytics(k.slug,c,d),j.init(k.features),k.features&&k.features.amp&&l.setupAMP(k.slug,k.features.amp),c?(k.has_footer&&l.addStudioFooterIframe(a.analytics_site_url,a.studio_footer),k.record_mobile_analytics&&(l.setupGoogleUniversalAnalytics(),l.rewriteUniversalAnalytics(p,n,c,d,m,f,i),a.record_quantcast&&l.recordQuantcast()),void(k.features&&k.features.analytics_sdk&&l.setupAnalyticsSDK(k.slug,k.features.analytics_sdk,c))):(k.record_desktop_analytics&&(l.setupGoogleUniversalAnalytics(),l.rewriteUniversalAnalytics(p,n,c,d,m,f,i)),void(k.features&&k.features.analytics_sdk&&l.setupAnalyticsSDK(k.slug,k.features.analytics_sdk,c)))}}()},{"./content-parser":5,"./performance-measurement":6,"./smart-content-loader":7,"./vendor/domready":8,"./vendor/features":9,"./vendor/ga-sandy-adapter":10,"./vendor/ga-shim":11,"./vendor/transaction":12,"mobify-analytics-sdk":1,"sandy-tracking-pixel-client":2}],5:[function(a,b,c){!function(d,e){"object"==typeof c?b.exports=e(a("./vendor/features")):"function"==typeof define&&define.amd?define(["features"],e):d.ContentParser=e(window.Features)}(this,function(a){"use strict";var b={};return void 0!==a&&(a.content_parser=b),b.init=function(a){var b=this;b.parse=b.getParser(a.parser)},b.Utils={trim:function(a){return a?a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):""},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)}},b.getParser=function(a){return"extra-smartphone"===a?function(a){var c=a.getElementById("eXtraSiteMapPath");if(c&&c.childNodes){var d=c.childNodes[4]||c.childNodes[2];if(d&&d.textContent){var e=document.location.href;d.childNodes[1]&&(e=d.childNodes[1].href);var f=e.replace(/^.*-|\/?(?:\?\S*)?\s*$/g,"");return b.Utils.isNumeric(f)||(f=""),{product_category:b.Utils.trim(d.textContent),product_category_id:f}}}return{}}:"basic"===a?function(a){var c=a.getElementById("product_category");return c?{product_category:b.Utils.trim(c.textContent),product_category_id:c.getAttribute("data-category-id")}:{}}:function(){return{}}},b.setSandyDimension=function(a){a.product_category&&window.sandy("set","product_category",a.product_category),a.product_category_id&&window.sandy("set","product_category_id",a.product_category_id)},b})},{"./vendor/features":9}],6:[function(a,b,c){!function(d,e){"object"==typeof c?b.exports=e(a("./vendor/features")):"function"==typeof define&&define.amd?define(["features"],e):d.PerformanceMeasurer=e(window.Features)}(this,function(a){"use strict";function b(a,b,c){a.attachEvent?(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event)},a.attachEvent("on"+b,a[b+c])):a.addEventListener(b,c,!1)}var c={};return void 0!==a&&(a.performance_measurement=c),c.measureFromLoading=function(a){c.measureFromWindowEvent("DOMContentLoaded",a,c.readyCallback),c.measureFromWindowEvent("load",a)},c.measureFromInteractive=function(a){c.measureFromWindowEvent("load",a)},c.measureFromComplete=function(a){c.measureFromNavigationTiming("loadEventStart","load",a)},c.measureFromNavigationTiming=function(a,b,c){var d=window.performance&&performance.timing&&performance.timing[a]||0,e=d-c;e>0&&sandy("send","timing","timing",b,"",e)},c.measureFromWindowEvent=function(a,c,d){b(window,a,function(){var b=Date.now(),e=b-c;if(d)try{d()}catch(f){}sandy("send","timing","timing",a,"",e)})},c.setReadyCallback=function(a){c.readyCallback=a},c.init=function(a){a.no_pageview||window.sandy("send","pageview");var b=document.readyState,d=window.performance&&performance.timing&&performance.timing.navigationStart||window.Mobify&&Mobify.points&&Mobify.points[0]||0,e={loading:c.measureFromLoading,interactive:c.measureFromInteractive,complete:c.measureFromComplete,loaded:c.measureFromComplete};e[b](d)},c})},{"./vendor/features":9}],7:[function(a,b,c){!function(d,e){"object"==typeof c?b.exports=e(a("./vendor/features")):"function"==typeof define&&define.amd?define(["features"],e):d.SmartContentLoader=e(window.Features)}(this,function(a){"use strict";var b={};void 0!==a&&(a.smart_content=b),b.init=function(a){var b="https://smart-content.mobify.net/v3/js/",c=a.business_slug,d=b+c+".js",e=/[^a-zA-Z0-9]mobify_sc_preview_campaign_uuid=([^&#]+)/,f=e.exec(window.location.search+window.location.hash),g=f?f[1]:null;if(g){var h=Math.floor(999999*Math.random()).toString();d+="?campaign_uuid="+g+"&cachebuster="+h}!function(a){var b=document.createElement("script");b.type="text/javascript",b.src=d,b.setAttribute("async",!0),b.addEventListener?b.addEventListener("load",function(b){a(null,b)},!1):b.onreadystatechange=function(){b.readyState in{loaded:1,complete:1}&&(b.onreadystatechange=null,a())},document.head.appendChild(b)}(function(){window.MobifySlot.load(a)})}})},{"./vendor/features":9}],8:[function(a,b,c){!function(a,d){"object"==typeof c?b.exports=d():"function"==typeof define&&"object"==typeof define.amd?define(d):this[a]=d()}("domready",function(a){function b(a){for(n=1;a=d.shift();)a()}var c,d=[],e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=h?/^loaded|^c/:/^loaded|c/,n=m.test(f[l]);return f[j]&&f[j](i,c=function(){f.removeEventListener(i,c,e),b()},e),h&&f.attachEvent(k,c=function(){/^c/.test(f[l])&&(f.detachEvent(k,c),b())}),a=h?function(b){self!=top?n?b():d.push(b):function(){try{g.doScroll("left")}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){n?a():d.push(a)}})},{}],9:[function(a,b,c){b.exports=function(){"use strict";var a={configs:{},elements:{}};return a.prepare=function(b,c){c=c||{},a[b]=a[b]||{},a[b].config=c,a[b].script=window.Mobify.Ajs.createScript({id:"__feature_"+b,src:c.source_url,async:c.load_async,defer:c.load_deferred})},a.defaultFeatureInit=function(b){window.Mobify.Ajs.addElement(a[b].script)},a.init=function(b){for(var c in b)a.prepare(c,b[c]),a[c].init?a[c].init(a[c].config):a.defaultFeatureInit(c)},a}()},{}],10:[function(a,b,c){!function(d,e){"object"==typeof c?b.exports=e(a("./features")):"function"==typeof define&&define.amd?define(["features"],e):d.GASandyAdapter=e(window.Features)}(this,function(b){"use strict";var c={};void 0!==b&&(b.sandy_adapter=c);var d={create:!0,provide:!0,require:!0,unrecognized:!0},e={ecommerce:!0,ecom:!0,ec:!0};return c._stripNamespace=function(a){var b=/([a-z|:]+)$/i;return"string"==typeof a?a.match(b)[0]:"unrecognized"},c._adaptEventArgs=function(a){var b={},c=a[0].split(":"),d=c[0];if(d in e){var f=c[1];"string"==typeof a[1]?(f=f+"-"+a[1],a[2]&&"object"==typeof a[2]&&(b=a[2])):a[1]&&"object"==typeof a[1]&&(b=a[1]),b.hitType="event",b.eventCategory="ecommerce",b.eventAction=f}else{if(!a[1]||"object"!=typeof a[1])return a;b=a[1]}return["send",b.hitType,b]},c.send=function(a,b){a[0]=c._stripNamespace(a[0]),!this.enabled||a[0]in d||(window.sandy("set","ga_adapted",!0),window.sandy("set","validity",b+""),window.sandy.apply(null,c._adaptEventArgs(a)),window.sandy("set","validity",null),window.sandy("set","ga_adapted",!1))},c.addSplitGroup=function(b,c,d){var e=a("split-test/dist/split-test.js");d=d||{},d.namespace="sandy_split_"+b;var f=e.init(c,d).getChoice();return window.sandy("set","split_"+b,f),f},c.init=function(a){if(this.enabled=!0,a.debug&&(window.sandy=function(){console.log([].slice.apply(arguments))}),window.Mobify&&(window.Mobify.analytics.addSplitGroup=c.addSplitGroup,a.split_group)){var b=c.addSplitGroup(a.split_group.name,a.split_group.group);window.Mobify.analytics.sandySplitChoice=b}},c})},{"./features":9,"split-test/dist/split-test.js":3}],11:[function(a,b,c){!function(a,d){"object"==typeof c?b.exports=d():"function"==typeof define&&define.amd?define([],d):a.GAShim=d()}(this,function(){var a={};return a._gaCommandShimMap={_addTrans:{apiName:"ecommerce:addTransaction",args:["id","affiliation","revenue","tax","shipping"]},_addItem:{apiName:"ecommerce:addItem",args:["id","sku","name","category","price","quantity"]},_trackTrans:{apiName:"ecommerce:send"},_trackEvent:{send:!0,apiName:"event",args:["eventCategory","eventAction","eventLabel","eventValue","nonInteraction"]},_trackPageview:{send:!0,apiName:"pageview",args:["page"]},_setCustomVar:function(a,b){var c=b+"set",d="dimension"+a[0],e=a[2];return[c,d,e]}},a._isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},a._isFunction=function(a){return"[object Function]"===Object.prototype.toString.call(a)},a.convertGACommandToNewGUAFormat=function(b,c){c=c?c+".":"";var d=b[0],e=b.slice(1),f=a._gaCommandShimMap[d];if(f){if(f.args){for(var g={},h=0,i=e.length;i>h;h++){var j=f.args[h];if(j){var k=e[h];k&&(g[j]=k)}}return f.send?(g.hitType=f.apiName,[c+"send",g]):[c+f.apiName,g]}return a._isFunction(f)?f.call(null,e,c):[c+f.apiName]}},a.bindShim=function(b,c,d){if(b.length>0)for(var e=0,f=b.length;f>e;e++){var g=a.convertGACommandToNewGUAFormat(b[e],d);c.apply(window,g)}b.push=function(){for(var b=0,e=arguments.length;e>b;b++){var f=arguments[b];try{var g=a.convertGACommandToNewGUAFormat(f,d);c.apply(window,g)}catch(h){throw h}}}},a})},{}],12:[function(a,b,c){!function(a,d){"object"==typeof c?b.exports=d():"function"==typeof define&&define.amd?define([],d):a.Transaction=d()}(this,function(){var a,b="ecommerce",c=["id","affiliation","revenue","shipping","tax","currency"],d=["id","name","sku"],e=function(b,c,d){a.ua=b,a.namespace=c+"."||"",a.debug=d||!1},f=function(){if(!a.ua)throw new Error("Transaction doesn't have a `ua` function defined. You need to call Transaction.init(ua), passing in the ua function.");var b=Array.prototype.slice.call(arguments);a.debug?console.log("Parameters: %O",b):a.ua.apply(null,b)},g=function(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()},h=function(a,b,c){if(g(a)!==b)throw new Error(c)},i=function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]=String(a[b]));return a},j=function(a,b,c){for(var d=0,e=c.length;e>d;d++){var f=c[d];if(!b.hasOwnProperty(f))throw new Error("The "+a+" object doesn't contain the "+f+" property, which is required");if(!b[f])throw new Error("The "+a+" object contains the "+f+" property, but it's value is empty")}},k=function(d,e,g){h(d,"string",'Transaction.send requires a string containing the transaction ID, i.e. "1234"'),h(e,"string",'Transaction.send requires a string containing the affiliation, usually the project name, i.e. "Acme Clothing"'),h(g,"object",'Transaction.send requires an object literal containing the transaction details, i.e. {"revenue": "11.99","shipping": "5","tax": "1.29"}'),g.id=d,g.affiliation=e,j("transaction",g,c),i(g),f(a.namespace+b+":addTransaction",g)},l=function(c,e){h(e,"array","Transaction.send requires an Array containing the transaction item details");for(var g=0,k=e.length;k>g;g++){var l=e[g];l.id=c,j("transaction item",l,d),i(l),f(a.namespace+b+":addItem",l)}},m=function(c){k(c.transactionID,c.affiliation,c.transaction),l(c.transactionID,c.transactionItems),f(a.namespace+b+":send")};return a={init:e,debug:!1,send:m,__utils:{_send:f,type:g,validateType:h,stringify:i,validatePropertiesExist:j,addTransaction:k,addTransactionItems:l}}})},{}]},{},[4]);
    if (window.Mobify && window.Mobify.Ajs) {
        var ajs_cfg = {"project": {"universal_analytics_id": "UA-34064153-33", "features": {"performance_measurement": {}, "sandy_adapter": {}}, "record_mobile_analytics": true, "record_desktop_analytics": true, "has_footer": false, "slug": "superdry-mobile"}, "record_quantcast": true, "project_type": "core", "studio_footer": "/studio-footer/", "analytics_site_url": "//a.mobify.com"} || {};
        window.Mobify.Ajs.init(ajs_cfg);
    }
})();